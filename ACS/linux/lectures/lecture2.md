#### Linux. Lecture2
##### Термины.
1. __Системный вызов__ - это интерфейс между пользовательским пространством и ядром ОС. Пользовательские программы взаимодействуют с ядром операционной системы посредством специальных механизмов, называемых системными вызовами (system calls, syscalls). Внешне системные вызовы реализованы в виде обычных функций языка C, однако каждый раз вызывая такую функцию, мы обращаемся непосредственно к ядру операционной системы. Список всех системных вызовов Linux можно найти в файле /usr/include/asm/unistd.h.
2. __Файловые дескрипторы__ - консольный ввод-вывод - это файловый ввод-вывод. Стандартный поток ввода, стандартный поток вывода и поток ошибок (как в C, так и в C++) - это файлы. В Linux все, куда можно что-то записать или откуда можно что-то прочитать, представлено (или может быть представлено) в виде файла. Экран, клавиатура, аппаратные и виртуальные устройства, каналы, сокеты - все это файлы. Это очень удобно, поскольку ко всему можно применять одни и те же механизмы ввода-вывода. Владение механизмами низкоуровневого ввода-вывода дает свободу перемещения данных в Linux. Работа с локальными файловыми системами, межсетевое взаимодействие, работа с аппаратными устройствами, - все это осуществляется в Linux посредством низкоуровневого ввода-вывода.
__Файловый дескриптор (file descriptor)__ - это целое число (int), соответствующее открытому файлу. Дескриптор, соответствующий реально открытому файлу всегда больше или равен нулю. Копия таблицы дескрипторов (читай: таблицы открытых файлов внутри процесса) скрыта в ядре. Мы не можем получить прямой доступ к этой таблице, как при работе с окружением через environ. Можно, конечно, кое-что "вытянуть" через дерево /proc, но нам это не надо. Программист должен лишь понимать, что каждый процесс имеет свою копию таблицы дескрипторов. В пределах одного процесса все дескрипторы уникальны (даже если они соответствуют одному и тому же файлу или устройству). В разных процессах дескрипторы могут совпадать или не совпадать - это не имеет никакого значения, поскольку у каждого процесса свой собственный набор открытых файлов.

##### Стандартные ввод/вывод/ошибка
На жаргоне специалистов по операционным системам запущенная программа называется процессом. Каждый процесс в среде Unix/Linux/POSIX (и, следовательно, в Windows) обладает тремя различными файловыми дескрипторами. Дескрипторам присвоены следующие названия: стандартный ввод (сокращенно `stdin`), стандарт-
ный вывод (`stdout`) и стандартная ошибка (`stderr`).

Как можно догадаться по названию, `stdin` — это ресурс ввода в программу по умолчанию. Обычно это символы, поступающие при вводе с клавиатуры. Когда ваш скрипт читает из stdin, он читает символы, набранные на клавиатуре, или (как вы
вскоре увидите) его можно изменить таким образом, что он будет читать из файла. `Stdout` — это место, куда по умолчанию отправляется результат, выданный программой. По умолчанию результат появляется в окне, в котором запущены ваши оболочка или сценарий оболочки. Стандартная ошибка тоже может быть резуль-
татом, отправленным программой. Но в `stderr` пишутся (или должны писаться) сообщения об ошибках. Программист решает, отправить результат в stdout или stderr. Поэтому стоит писать сценарии аккуратно, чтобы они отправляли отчеты об ошибках в stderr, а не в stdout.
